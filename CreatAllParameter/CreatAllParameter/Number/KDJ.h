#pragma once
#include "NumberBase.h"


#ifndef KDJ_H
#define KDJ_H
///////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
class CKDJCal 
	//public CNumberManager
{
	friend class CNumbersToSql;
public:
	CKDJCal(StockDataType day1 = 9, StockDataType day2 = 3, StockDataType day3 = 3);
	~CKDJCal(void);
	//////////////////////////////////////////////////////////////////////////
	//
	//
	//////////////////////////////////////////////////////////////////////////
	bool GetNextKDJ(const SinDayPriceData& OneDayData, KDJ& mFrontKDJ);
	//////////////////////////////////////////////////////////////////////////
	//
	//
	//////////////////////////////////////////////////////////////////////////
	void Inition();
	//////////////////////////////////////////////////////////////////////////
	//
	//
	//////////////////////////////////////////////////////////////////////////
	bool StaticGetNextKDJ(const vector<SinDayPriceData>& FrontPrice, const SinDayPriceData& OneDayData, KDJ& mFrontKDJ) const;
private:
	//CKDJCal();
	void StaticSizePush(StockDataType mdata, float msize, list<StockDataType>& mList);
	list<StockDataType> _lHigh;
	list<StockDataType> _lLow;
	list<StockDataType> _lClose;
	//KDJ指标的参数
	const float _Nday, _M1, _M2;
};
#endif
