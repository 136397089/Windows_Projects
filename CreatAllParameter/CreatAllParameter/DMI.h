#pragma once
#include "Number\NumberBase.h"
#include "MovingAverage.h"
class CDMI// :public CNumberManager
{
public:
	CDMI();
	~CDMI();
	//////////////////////////////////////////////////////////////////////////
	//更新目录下所有CSV文件里的MACD值(数据按列排)
	//strPath:目录路径
	//////////////////////////////////////////////////////////////////////////
// 	virtual void UpdateFileColumn(string strFolderPath);
// 	//////////////////////////////////////////////////////////////////////////
// 	//更新目录下所有CSV文件里的MACD值(天数按行排)
// 	//strPath:目录路径
// 	//////////////////////////////////////////////////////////////////////////
// 	virtual void UpdatePathFilesRanks(string strPath);
// 	//////////////////////////////////////////////////////////////////////////
// 	//更新单个CSV文件里的MACD值(天数按行排)
// 	//strPath:文件路径
// 	//////////////////////////////////////////////////////////////////////////
// 	virtual void UpdateFileRanks(string strfilename);
	//////////////////////////////////////////////////////////////////////////
	//通过前日的MACD获得今日的MACD值
	//closeData:收盘价
	//mMacd:前日的MACD
	//////////////////////////////////////////////////////////////////////////
	bool GetNextDMI(const SinCyclePriceData& OneDayData, Dmi& mDmi);

	bool Inition();
private:
	CMovingAverage DayADXMA;
	CMovingAverage DMPMA;
	CMovingAverage DMMMA;
	CMovingAverage TRMA;
	CREFMA _ADXRMA;
	SinCyclePriceData _FrontPriceData;

	unsigned int  M1;
	unsigned int M2;
};

